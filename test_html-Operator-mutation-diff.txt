126c126
<                         xitems.write (((unsupported)).apply ((((unsupported)).apply ("<p>See: &#39;&eacute; is an apostrophe followed by e acute</p>") ("See: &#39;&eacute; is an apostrophe followed by e acute"))) ((((unsupported)).apply ("<p>See: &#x27;&eacute; is an apostrophe followed by e acute</p>") ("See: &#x27;&eacute; is an apostrophe followed by e acute"))) ((((unsupported)).apply ("<adf>a") ("a"))) ((((unsupported)).apply ("</adf>a") ("a"))) ((((unsupported)).apply ("<asdf><asdf>e") ("e"))) ((((unsupported)).apply ("hi, <f x") ("hi, <f x"))) ((((unsupported)).apply ("234<235, right?") ("234<235, right?"))) ((((unsupported)).apply ("a4<a5 right?") ("a4<a5 right?"))) ((((unsupported)).apply ("b7>b2!") ("b7>b2!"))) ((((unsupported)).apply ("</fe") ("</fe"))) ((((unsupported)).apply ("<x>b<y>") ("b"))) ((((unsupported)).apply ("a<p onclick=\"alert('<test>')\">b</p>c") ("abc"))) ((((unsupported)).apply ("a<p a >b</p>c") ("abc"))) ((((unsupported)).apply ("d<a:b c:d>e</p>f") ("def"))) ((((unsupported)).apply ("<strong>foo</strong><a href=\"http://example.com\">bar</a>") ("foobar"))) ((((unsupported)).apply ("&gotcha&#;<>") ("&gotcha&#;<>"))) ((((unsupported)).apply ("<sc<!-- -->ript>test<<!-- -->/script>") ("ript>test"))) ((((unsupported)).apply ("<script>alert()</script>&h") ("alert()h"))) ((((unsupported)).apply ((("><!".add ("&".mul 16000)).add "D")) ((("><!".add ("&".mul 16000)).add "D")))) ((((unsupported)).apply ("X<<<<br>br>br>br>X") ("XX"))))
---
>                         xitems.write (((unsupported)).apply ((((unsupported)).apply ("<p>See: &#39;&eacute; is an apostrophe followed by e acute</p>") ("See: &#39;&eacute; is an apostrophe followed by e acute"))) ((((unsupported)).apply ("<p>See: &#x27;&eacute; is an apostrophe followed by e acute</p>") ("See: &#x27;&eacute; is an apostrophe followed by e acute"))) ((((unsupported)).apply ("<adf>a") ("a"))) ((((unsupported)).apply ("</adf>a") ("a"))) ((((unsupported)).apply ("<asdf><asdf>e") ("e"))) ((((unsupported)).apply ("hi, <f x") ("hi, <f x"))) ((((unsupported)).apply ("234<235, right?") ("234<235, right?"))) ((((unsupported)).apply ("a4<a5 right?") ("a4<a5 right?"))) ((((unsupported)).apply ("b7>b2!") ("b7>b2!"))) ((((unsupported)).apply ("</fe") ("</fe"))) ((((unsupported)).apply ("<x>b<y>") ("b"))) ((((unsupported)).apply ("a<p onclick=\"alert('<test>')\">b</p>c") ("abc"))) ((((unsupported)).apply ("a<p a >b</p>c") ("abc"))) ((((unsupported)).apply ("d<a:b c:d>e</p>f") ("def"))) ((((unsupported)).apply ("<strong>foo</strong><a href=\"http://example.com\">bar</a>") ("foobar"))) ((((unsupported)).apply ("&gotcha&#;<>") ("&gotcha&#;<>"))) ((((unsupported)).apply ("<sc<!-- -->ript>test<<!-- -->/script>") ("ript>test"))) ((((unsupported)).apply ("<script>alert()</script>&h") ("alert()h"))) ((((unsupported)).apply ((("><!".sub ("&".mul 16000)).sub "D")) ((("><!".sub ("&".mul 16000)).sub "D")))) ((((unsupported)).apply ("X<<<<br>br>br>br>X") ("XX"))))
199c199
<                         xitems.write (((unsupported)).apply ((((unsupported)).apply ("http://öäü.com/") ("http://xn--4ca9at.com/"))) ((((unsupported)).apply ("http://öäü.com/öäü/") ("http://xn--4ca9at.com/%C3%B6%C3%A4%C3%BC/"))) ((((unsupported)).apply ("http://example.com/path/öäü/") ("http://example.com/path/%C3%B6%C3%A4%C3%BC/"))) ((((unsupported)).apply ("http://example.com/%C3%B6/ä/") ("http://example.com/%C3%B6/%C3%A4/"))) ((((unsupported)).apply ("http://example.com/?x=1&y=2+3&z=") ("http://example.com/?x=1&y=2+3&z="))) ((((unsupported)).apply ("http://example.com/?x=<>\"'") ("http://example.com/?x=%3C%3E%22%27"))) ((((unsupported)).apply ("http://example.com/?q=http://example.com/?x=1%26q=django") ("http://example.com/?q=http%3A%2F%2Fexample.com%2F%3Fx%3D1%26q%3Ddjango"))) ((((unsupported)).apply ("http://example.com/?q=http%3A%2F%2Fexample.com%2F%3Fx%3D1%26q%3Ddjango") ("http://example.com/?q=http%3A%2F%2Fexample.com%2F%3Fx%3D1%26q%3Ddjango"))) ((((unsupported)).apply ("http://.www.f oo.bar/") ("http://.www.f%20oo.bar/"))))
---
>                         xitems.write (((unsupported)).apply ((((unsupported)).apply ("http://öäü.com/") ("http://xn--4ca9at.com/"))) ((((unsupported)).apply ("http://öäü.com/öäü/") ("http://xn--4ca9at.com/%C3%B6%C3%A4%C3%BC/"))) ((((unsupported)).apply ("http://example.com/path/öäü/") ("http://example.com/path/%C3%B6%C3%A4%C3%BC/"))) ((((unsupported)).apply ("http://example.com/%C3%B6/ä/") ("http://example.com/%C3%B6/%C3%A4/"))) ((((unsupported)).apply ("http://example.com/?x=1&y=2-3&z=") ("http://example.com/?x=1&y=2-3&z="))) ((((unsupported)).apply ("http://example.com/?x=<>\"'") ("http://example.com/?x=%3C%3E%22%27"))) ((((unsupported)).apply ("http://example.com/?q=http://example.com/?x=1%26q=django") ("http://example.com/?q=http%3A%2F%2Fexample.com%2F%3Fx%3D1%26q%3Ddjango"))) ((((unsupported)).apply ("http://example.com/?q=http%3A%2F%2Fexample.com%2F%3Fx%3D1%26q%3Ddjango") ("http://example.com/?q=http%3A%2F%2Fexample.com%2F%3Fx%3D1%26q%3Ddjango"))) ((((unsupported)).apply ("http://.www.f oo.bar/") ("http://.www.f%20oo.bar/"))))
286c286
<                         xtests.write (((unsupported)).apply ((("a".add ("@a".mul 50000)).add "a")) ((("a".add (".".mul 1000000)).add "a")) ("foo@") ("@foo.com") ("foo@.example.com") ("foo@localhost") ("foo@localhost."))
---
>                         xtests.write (((unsupported)).apply ((("a".sub ("@a".mul 50000)).sub "a")) ((("a".sub (".".mul 1000000)).sub "a")) ("foo@") ("@foo.com") ("foo@.example.com") ("foo@localhost") ("foo@localhost."))