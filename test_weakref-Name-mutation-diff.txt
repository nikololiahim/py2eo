82a83
> memory > x_global_var
103d103
<         memory > xtest_callback_gcs
193a194,195
>         memory > x_global_var2
>         memory > xtest_callback_gcs
232d233
<         memory > x_global_var
257c258
<             x_global_var.write "foobar"
---
>             x_global_var2.write "foobar"
375c376
<                         (((unsupported)).apply ((((unsupported)).apply ((xo)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xo)))))))
396c397
<                         (((unsupported)).apply ((((unsupported)).apply ((xf)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xf)))))))
410c411
<                         (((unsupported)).apply ((((unsupported)).apply ((xo)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xo)))))))
429c430
<                         (((unsupported)).apply ((((unsupported)).apply ((xc)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xc)))))))
449c450
<                         (((unsupported)).apply ((((unsupported)).apply ((xo)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xo)))))))
479c480
<                         (((unsupported)).apply ((((unsupported)).apply ((xo)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xo)))))))
501c502
<                         (((unsupported)).apply ((((unsupported)).apply ((xproxy)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xproxy)))))))
657c658
<                         (((unsupported)).apply ((((unsupported)).apply ((xp1)) ((xp2)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xp1)) ((xp2)))))))
661c662
<                         (((unsupported)).apply ((((unsupported)).apply ((xp1)) ((xp2)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xp1)) ((xp2)))))))
665c666
<                         (((unsupported)).apply ((((unsupported)).apply ((xp1)) ((xp2)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xp1)) ((xp2)))))))
693c694
<                         (((unsupported)).apply ((((unsupported)).apply (((xo).xfoo)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply (((xo).xfoo)))))))
699c700
<                         (((unsupported)).apply ((((unsupported)).apply (((xproxy).xfoo)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply (((xproxy).xfoo)))))))
718c719
<                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xf)) (0))))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xf)) (0))))))))
742c743
<                                   (((unsupported)).apply ((((unsupported)).apply ((xobj)))))
---
>                                   (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xobj)))))))
764c765
<                         (((unsupported)).apply ((((unsupported)).apply ((xref1)) ((xref2)) ((xproxy1)) ((xproxy2)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xref1)) ((xref2)) ((xproxy1)) ((xproxy2)))))))
777c778
<                         (((unsupported)).apply ((((unsupported)).apply ((xref1)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xref1)))))))
782c783
<                         (((unsupported)).apply ((((unsupported)).apply ((xref2)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xref2)))))))
784c785
<                         (((unsupported)).apply ((((unsupported)).apply ((xref1)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xref1)))))))
810c811
<                               (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xdata)) ((xk)))))))
---
>                               (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xdata)) ((xk)))))))))
837,838c838,839
<                         (((unsupported)).apply ((((unsupported)).apply ((xc)))))
<                         (((unsupported)).apply ((((unsupported)).apply ((xwr)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xc)))))))
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xwr)))))))
844,845c845,846
<                         (((unsupported)).apply ((((unsupported)).apply ((xc1)))))
<                         (((unsupported)).apply ((((unsupported)).apply ((xc2)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xc1)))))))
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xc2)))))))
862c863
<                         (((unsupported)).apply ((((unsupported)).apply ((xI)) ((xJ)) ((xII)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xI)) ((xJ)) ((xII)))))))
880c881
<                         (((unsupported)).apply ((((unsupported)).apply ((xI)) ((xJ)) ((xII)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xI)) ((xJ)) ((xII)))))))
900c901
<                         (((unsupported)).apply ((((unsupported)).apply ((xc1)) ((xc2)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xc1)) ((xc2)))))))
921c922
<                         (((unsupported)).apply ((((unsupported)).apply ((xc1)) ((xc2)) ((xC)) ((xD)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xc1)) ((xc2)) ((xC)) ((xD)))))))
954c955
<                         (((unsupported)).apply ((((unsupported)).apply ((xc1)) ((xc2)) ((xC)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xc1)) ((xc2)) ((xC)))))))
959c960
<                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xalist)) ((((unsupported)).apply)))))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xalist)) ((((unsupported)).apply)))))))))
990c991
<                         (((unsupported)).apply ((((unsupported)).apply ((xcallback)) ((xc)) ((xd)) ((xC)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xcallback)) ((xc)) ((xd)) ((xC)))))))
995c996
<                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xalist)) ((((unsupported)).apply)))))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xalist)) ((((unsupported)).apply)))))))))
1093c1094
<                         (((unsupported)).apply ((((unsupported)).apply ((xx)) ((xy)) ((xz)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xx)) ((xy)) ((xz)))))))
1119c1120
<                         (((unsupported)).apply ((((unsupported)).apply ((xx)) ((xy)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xx)) ((xy)))))))
1136c1137
<                         (((unsupported)).apply ((((unsupported)).apply ((xx)) ((xy)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xx)) ((xy)))))))
1168c1169
<                         (((unsupported)).apply ((((unsupported)).apply ((xroot)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xroot)))))))
1193c1194
<                         (((unsupported)).apply ((((unsupported)).apply ((xx)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xx)))))))
1221c1222
<                         (((unsupported)).apply ((((unsupported)).apply ((xx)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xx)))))))
1252c1253
<                         (((unsupported)).apply ((((unsupported)).apply ((xo)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xo)))))))
1344,1345c1345,1346
<                         (((unsupported)).apply ((((unsupported)).apply ((xo)))))
<                         (((unsupported)).apply ((((unsupported)).apply ((xr1)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xo)))))))
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xr1)))))))
1352,1354c1353,1355
<                         (((unsupported)).apply ((((unsupported)).apply ((xo)))))
<                         (((unsupported)).apply ((((unsupported)).apply ((xr2)))))
<                         (((unsupported)).apply ((((unsupported)).apply ((xr1)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xo)))))))
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xr2)))))))
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xr1)))))))
1391c1392
<                         (((unsupported)).apply ((((unsupported)).apply ((xo)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xo)))))))
1404c1405
<                         (((unsupported)).apply ((((unsupported)).apply (((xC).xsome_method)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply (((xC).xsome_method)))))))
1424c1425
<                         (((unsupported)).apply ((((unsupported)).apply ((xo)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xo)))))))
1447c1448
<                         (((unsupported)).apply ((((unsupported)).apply (((xC).xsome_method)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply (((xC).xsome_method)))))))
1450c1451
<                         (((unsupported)).apply ((((unsupported)).apply ((xo)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xo)))))))
1467c1468
<                         (((unsupported)).apply ((((unsupported)).apply ((xr)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xr)))))))
1516c1517
<                         (((unsupported)).apply ((((unsupported)).apply ((xx)) ((xy)) ((xz)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xx)) ((xy)) ((xz)))))))
1541c1542
<                         (((unsupported)).apply ((((unsupported)).apply ((xx)) ((xy)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xx)) ((xy)))))))
1565c1566
<                         (((unsupported)).apply ((((unsupported)).apply ((xitems)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xitems)))))))
1568c1569
<                         (((unsupported)).apply ((((unsupported)).apply ((xit)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xit)))))))
1599c1600
<                             (((unsupported)).apply ((((unsupported)).apply ((xitems)))))
---
>                             (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xitems)))))))
1604c1605
<                             (((unsupported)).apply ((((unsupported)).apply ((xit)))))
---
>                             (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xit)))))))
1635c1636
<                         (((unsupported)).apply ((((unsupported)).apply ((xitems1)) ((xitems2)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xitems1)) ((xitems2)))))))
1637c1638
<                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xobjects)) (0))))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xobjects)) (0))))))))
1639c1640
<                         (((unsupported)).apply ((((unsupported)).apply ((xobjects)) ((xo)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xobjects)) ((xo)))))))
1660c1661
<                         (((unsupported)).apply ((((unsupported)).apply ((xitems1)) ((xitems2)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xitems1)) ((xitems2)))))))
1662c1663
<                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xobjects)) (0))))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xobjects)) (0))))))))
1664c1665
<                         (((unsupported)).apply ((((unsupported)).apply ((xobjects)) ((xo)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xobjects)) ((xo)))))))
1760c1761
<                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xobjects)) ((1.neg)))))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xobjects)) ((1.neg)))))))))
1763c1764
<                         (((unsupported)).apply ((((unsupported)).apply ((xit)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xit)))))))
1810c1811
<                             (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xdict)) ((((xnext)).apply (((((xdict).xkeys)).apply)))))))))
---
>                             (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xdict)) ((((xnext)).apply (((((xdict).xkeys)).apply)))))))))))
2070c2071
<                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xd)) ((xo1)))))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xd)) ((xo1)))))))))
2086c2087
<                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xd)) ("something"))))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xd)) ("something"))))))))
2130c2131
<                                       (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xobjs)) ((1.neg)))))))
---
>                                       (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xobjs)) ((1.neg)))))))))
2135c2136
<                         (((unsupported)).apply ((((unsupported)).apply ((xo)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xo)))))))
2143c2144
<                             (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xd)) ((xo)))))))
---
>                             (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xd)) ((xo)))))))))
2172c2173
<                               (((unsupported)).apply ((((unsupported)).apply ((xx)))))
---
>                               (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xx)))))))
2260,2261c2261,2262
<                             (((unsupported)).apply ((((unsupported)).apply ((xk)))))
<                             (((unsupported)).apply ((((unsupported)).apply ((xv)))))
---
>                             (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xk)))))))
>                             (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xv)))))))
2360c2361
<                         (((unsupported)).apply ((((unsupported)).apply ((xa)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xa)))))))
2420c2421
<                         (((unsupported)).apply ((((unsupported)).apply ((xf1)) ((xf4)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xf1)) ((xf4)))))))
2433c2434
<                         (((unsupported)).apply ((((unsupported)).apply ((xa)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xa)))))))
2460c2461
<                         (((unsupported)).apply ((((unsupported)).apply ((xcallback)) ((xf)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xcallback)) ((xf)))))))
2463c2464
<                         (((unsupported)).apply ((((unsupported)).apply ((xa)))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((xa)))))))