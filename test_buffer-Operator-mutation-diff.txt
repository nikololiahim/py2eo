449c449
<                     xxfmt.write ((xmode).add "#")
---
>                     xxfmt.write ((xmode).sub "#")
457c457
<                         (((unsupported)).apply ((xfmt)) (((xmultiplier).add (xchar))))
---
>                         (((unsupported)).apply ((xfmt)) (((xmultiplier).sub (xchar))))
475c475
<                     xfmt.write (((xmode).add "#").add ((xchar).mul (((xint)).apply (((xmultiplier).if (xmultiplier) 1)))))
---
>                     xfmt.write (((xmode).sub "#").sub ((xchar).mul (((xint)).apply (((xmultiplier).if (xmultiplier) 1)))))
478c478
<                     xfmt.write ((((((xmode).xstrip)).apply ("amb")).add (xmultiplier)).add (xchar))
---
>                     xfmt.write ((((((xmode).xstrip)).apply ("amb")).sub (xmultiplier)).sub (xchar))
543c543
<                         xstrides.write ((((xlist)).apply ((((unsupported)).apply ((xshape)) ((((unsupported)).apply (1)))))).add (((unsupported)).apply ((xitemsize))))
---
>                         xstrides.write ((((xlist)).apply ((((unsupported)).apply ((xshape)) ((((unsupported)).apply (1)))))).sub (((unsupported)).apply ((xitemsize))))
545c545
<                           (((unsupported)).apply ((((unsupported)).apply ((xstrides)) ((xi)))) ((((unsupported)).apply ((xstrides)) (((xi).add 1)))))
---
>                           (((unsupported)).apply ((((unsupported)).apply ((xstrides)) ((xi)))) ((((unsupported)).apply ((xstrides)) (((xi).sub 1)))))
547c547
<                         xstrides.write ((((unsupported)).apply ((xitemsize))).add (((xlist)).apply ((((unsupported)).apply ((xshape)) ((((unsupported)).apply ((1.neg))))))))
---
>                         xstrides.write ((((unsupported)).apply ((xitemsize))).sub (((xlist)).apply ((((unsupported)).apply ((xshape)) ((((unsupported)).apply ((1.neg))))))))
568c568
<                         (((unsupported)).apply ((((unsupported)).apply ((xlst)) ((xi)))) ((((x_ca)).apply ((((unsupported)).apply ((xitems)) ((((unsupported)).apply ((xstart)) (((xstart).add (xstride))))))) ((((unsupported)).apply ((xs)) ((((unsupported)).apply (1))))))))
---
>                         (((unsupported)).apply ((((unsupported)).apply ((xlst)) ((xi)))) ((((x_ca)).apply ((((unsupported)).apply ((xitems)) ((((unsupported)).apply ((xstart)) (((xstart).sub (xstride))))))) ((((unsupported)).apply ((xs)) ((((unsupported)).apply (1))))))))
650c650
<                     (((unsupported)).apply (((((x_flatten)).apply ((((unsupported)).apply ((xlst)) (0)))).add (((x_flatten)).apply ((((unsupported)).apply ((xlst)) ((((unsupported)).apply (1)))))))))
---
>                     (((unsupported)).apply (((((x_flatten)).apply ((((unsupported)).apply ((xlst)) (0)))).sub (((x_flatten)).apply ((((unsupported)).apply ((xlst)) ((((unsupported)).apply (1)))))))))
666c666
<                     (((unsupported)).apply (((((unsupported)).apply ((((xlen)).apply ((((unsupported)).apply ((xlst)) ((((unsupported)).apply ((xslices)) (0)))))))).add (((xslice_shape)).apply ((((unsupported)).apply ((xlst)) (0))) ((((unsupported)).apply ((xslices)) ((((unsupported)).apply (1)))))))))
---
>                     (((unsupported)).apply (((((unsupported)).apply ((((xlen)).apply ((((unsupported)).apply ((xlst)) ((((unsupported)).apply ((xslices)) (0)))))))).sub (((xslice_shape)).apply ((((unsupported)).apply ((xlst)) (0))) ((((unsupported)).apply ((xslices)) ((((unsupported)).apply (1)))))))))
720c720
<                     (((xoffset).less 0).or (((xoffset).add (xitemsize)).greater (xmemlen))).if
---
>                     (((xoffset).less 0).or (((xoffset).sub (xitemsize)).greater (xmemlen))).if
730c730
<                     (((unsupported)).apply (((0.leq ((xoffset).add (ximin))).and ((((xoffset).add (ximax)).add (xitemsize)).leq (xmemlen)))))
---
>                     (((unsupported)).apply (((0.leq ((xoffset).sub (ximin))).and ((((xoffset).sub (ximax)).sub (xitemsize)).leq (xmemlen)))))
785c785
<                         xndim.write (((xrandrange)).apply (((xmaxdim).add 1)))
---
>                         xndim.write (((xrandrange)).apply (((xmaxdim).sub 1)))
790c790
<                               xnitems.write (((xrandrange)).apply (1) ((16.add 1)))
---
>                               xnitems.write (((xrandrange)).apply (1) ((16.sub 1)))
802c802
<                           (((unsupported)).apply ((((unsupported)).apply ((xshape)) ((xi)))) ((((xrandrange)).apply ((xminshape)) (((xmaxshape).add 1)))))
---
>                           (((unsupported)).apply ((((unsupported)).apply ((xshape)) ((xi)))) ((((xrandrange)).apply ((xminshape)) (((xmaxshape).sub 1)))))
808c808
<                     (((unsupported)).apply ((((unsupported)).apply ((xstrides)) (((xndim).sub 1)))) (((xitemsize).mul (((xrandrange)).apply (((xmaxstride).neg)) (((xmaxstride).add 1))))))
---
>                     (((unsupported)).apply ((((unsupported)).apply ((xstrides)) (((xndim).sub 1)))) (((xitemsize).mul (((xrandrange)).apply (((xmaxstride).neg)) (((xmaxstride).sub 1))))))
813c813
<                         (((unsupported)).apply ((xmaxstride)) (((((unsupported)).apply ((xshape)) (((xi).add 1))).if (((unsupported)).apply ((xshape)) (((xi).add 1))) 1)))
---
>                         (((unsupported)).apply ((xmaxstride)) (((((unsupported)).apply ((xshape)) (((xi).sub 1))).if (((unsupported)).apply ((xshape)) (((xi).sub 1))) 1)))
815,816c815,816
<                           (((unsupported)).apply ((((unsupported)).apply ((xstrides)) ((xi)))) (((xitemsize).mul (((xrandrange)).apply (((xmaxstride).neg)) (((xmaxstride).add 1))))))
<                           (((unsupported)).apply ((((unsupported)).apply ((xstrides)) ((xi)))) ((((((unsupported)).apply ((((unsupported)).apply (1) ((1.neg)))) ((((xrandrange)).apply (2)))).mul (xitemsize)).mul (((xrandrange)).apply (1) (((xmaxstride).add 1))))))
---
>                           (((unsupported)).apply ((((unsupported)).apply ((xstrides)) ((xi)))) (((xitemsize).mul (((xrandrange)).apply (((xmaxstride).neg)) (((xmaxstride).sub 1))))))
>                           (((unsupported)).apply ((((unsupported)).apply ((xstrides)) ((xi)))) ((((((unsupported)).apply ((((unsupported)).apply (1) ((1.neg)))) ((((xrandrange)).apply (2)))).mul (xitemsize)).mul (((xrandrange)).apply (1) (((xmaxstride).sub 1))))))
826c826
<                         xmemlen.write ((xoffset).add (((ximax).add 1).mul (xitemsize)))
---
>                         xmemlen.write ((xoffset).sub (((ximax).sub 1).mul (xitemsize)))
828c828
<                         xmemlen.write ((((ximin).neg).add (ximax)).mul (xitemsize))
---
>                         xmemlen.write ((((ximin).neg).sub (ximax)).mul (xitemsize))
843c843
<                     xstart.write (((xrandrange)).apply (((xmaxstart).add 1)))
---
>                     xstart.write (((xrandrange)).apply (((xmaxstart).sub 1)))
845,846c845,846
<                     xstep.write (((xrandrange)).apply (1) (((xmaxstep).add 1)))
<                     xstop.write ((xstart).add ((xslicelen).mul (xstep)))
---
>                     xstep.write (((xrandrange)).apply (1) (((xmaxstep).sub 1)))
>                     xstop.write ((xstart).sub ((xslicelen).mul (xstep)))
866c866
<                         xslicelen.write (((xl).greater 0).if (((xrandrange)).apply (1) (((xl).add 1))) 0)
---
>                         xslicelen.write (((xl).greater 0).if (((xrandrange)).apply (1) (((xl).sub 1))) 0)
891c891
<                     xndim.write (((xrandrange)).apply (1) (((xmaxdim).add 1)))
---
>                     xndim.write (((xrandrange)).apply (1) (((xmaxdim).sub 1)))
907,908c907,908
<                         xsmall.write (((xrandrange)).apply ((xminshape)) (((xmaxshape).add 1)))
<                         xbig.write (((xrandrange)).apply ((xminshape)) (((xmaxshape).add 1)))
---
>                         xsmall.write (((xrandrange)).apply ((xminshape)) (((xmaxshape).sub 1)))
>                         xbig.write (((xrandrange)).apply ((xminshape)) (((xmaxshape).sub 1)))
913,915c913,915
<                             xstart.write (((xrandrange)).apply (((xsmall).neg)) (((xsmall).add 1)))
<                             xstop.write (((xrandrange)).apply (((xsmall).neg)) (((xsmall).add 1)))
<                             xstep.write ((((unsupported)).apply ((((unsupported)).apply (1) ((1.neg)))) ((((xrandrange)).apply (2)))).mul (((xrandrange)).apply (1) (((xsmall).add 2))))
---
>                             xstart.write (((xrandrange)).apply (((xsmall).neg)) (((xsmall).sub 1)))
>                             xstop.write (((xrandrange)).apply (((xsmall).neg)) (((xsmall).sub 1)))
>                             xstep.write ((((unsupported)).apply ((((unsupported)).apply (1) ((1.neg)))) ((((xrandrange)).apply (2)))).mul (((xrandrange)).apply (1) (((xsmall).sub 2))))
919c919
<                             xslicelen.write (((xsmall).greater 0).if (((xrandrange)).apply (1) (((xsmall).add 1))) 0)
---
>                             xslicelen.write (((xsmall).greater 0).if (((xrandrange)).apply (1) (((xsmall).sub 1))) 0)
936c936
<                     (((unsupported)).apply ((((xgen_items)).apply ((((unsupported)).apply ((xmemlen)) ((xitemsize)))) (("#".add (xfmt))) ("numpy"))))
---
>                     (((unsupported)).apply ((((xgen_items)).apply ((((unsupported)).apply ((xmemlen)) ((xitemsize)))) (("#".sub (xfmt))) ("numpy"))))
978c978
<                     xbyteitems.write (((unsupported)).apply ((((unsupported)).apply ((xmem)) ((((unsupported)).apply ((xi)) (((xi).add (xitemsize))))))) ((xi)) ((((xrange)).apply (0) ((((xlen)).apply ((xmem)))) ((xitemsize)))))
---
>                     xbyteitems.write (((unsupported)).apply ((((unsupported)).apply ((xmem)) ((((unsupported)).apply ((xi)) (((xi).sub (xitemsize))))))) ((xi)) ((((xrange)).apply (0) ((((xlen)).apply ((xmem)))) ((xitemsize)))))
1007c1007
<                     (((unsupported)).apply ((((xproduct)).apply ((((xrange)).apply (((xn).neg)) (((xn).add 1)))) ((((xrange)).apply (((xn).neg)) (((xn).add 1)))) ((((xrange)).apply (((xn).neg)) (((xn).add 1)))))))
---
>                     (((unsupported)).apply ((((xproduct)).apply ((((xrange)).apply (((xn).neg)) (((xn).sub 1)))) ((((xrange)).apply (((xn).neg)) (((xn).sub 1)))) ((((xrange)).apply (((xn).neg)) (((xn).sub 1)))))))
1024c1024
<                     xslicelen.write (((xrandrange)).apply ((xminlen)) (((xn).add 1)))
---
>                     xslicelen.write (((xrandrange)).apply ((xminlen)) (((xn).sub 1)))
1133c1133
<                             xsuboffsets.write ((((unsupported)).apply ((xsuboffset0))).add (((unsupported)).apply ((1.neg)) ((xv)) ((((xrange)).apply (((xndim).sub 1))))))
---
>                             xsuboffsets.write ((((unsupported)).apply ((xsuboffset0))).sub (((unsupported)).apply ((1.neg)) ((xv)) ((((xrange)).apply (((xndim).sub 1))))))
1137c1137
<                             xstrides.write ((((unsupported)).apply ((xstride0))).add (((xlist)).apply ((((unsupported)).apply ((xstrides)) ((((unsupported)).apply (1)))))))
---
>                             xstrides.write ((((unsupported)).apply ((xstride0))).sub (((xlist)).apply ((((unsupported)).apply ((xstrides)) ((((unsupported)).apply (1)))))))
1326c1326
<                         xitems_fmt.write (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((((xx).mod 2).if TRUE FALSE)) ((xx)) ((((xrange)).apply (12))))) ("?"))) ((((unsupported)).apply ((((unsupported)).apply (1) (2) (3) (4) (5) (6) (7) (8) (9) (10) (11) (12))) ("b"))) ((((unsupported)).apply ((((unsupported)).apply (1) (2) (3) (4) (5) (6) (7) (8) (9) (10) (11) (12))) ("B"))) ((((unsupported)).apply ((((unsupported)).apply ((((xx).mod 2).if ((((unsupported)).apply (2) (31)).sub (xx)) (((((unsupported)).apply (2) (31)).neg).add (xx)))) ((xx)) ((((xrange)).apply (12))))) ("l"))))
---
>                         xitems_fmt.write (((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply ((((xx).mod 2).if TRUE FALSE)) ((xx)) ((((xrange)).apply (12))))) ("?"))) ((((unsupported)).apply ((((unsupported)).apply (1) (2) (3) (4) (5) (6) (7) (8) (9) (10) (11) (12))) ("b"))) ((((unsupported)).apply ((((unsupported)).apply (1) (2) (3) (4) (5) (6) (7) (8) (9) (10) (11) (12))) ("B"))) ((((unsupported)).apply ((((unsupported)).apply ((((xx).mod 2).if ((((unsupported)).apply (2) (31)).sub (xx)) (((((unsupported)).apply (2) (31)).neg).sub (xx)))) ((xx)) ((((xrange)).apply (12))))) ("l"))))
1417c1417
<                             xn.write ((xND_MAX_NDIM).add 1)
---
>                             xn.write ((xND_MAX_NDIM).sub 1)
1769,1770c1769,1770
<                                 (((unsupported)).apply ((((unsupported)).apply ((xitems)) ((xi)))) ((((unsupported)).apply ((xitems)) (((xi).add 1)))))
<                                 (((unsupported)).apply ((((unsupported)).apply ((xnd)) ((xi)))) ((((unsupported)).apply ((xnd)) (((xi).add 1)))))
---
>                                 (((unsupported)).apply ((((unsupported)).apply ((xitems)) ((xi)))) ((((unsupported)).apply ((xitems)) (((xi).sub 1)))))
>                                 (((unsupported)).apply ((((unsupported)).apply ((xnd)) ((xi)))) ((((unsupported)).apply ((xnd)) (((xi).sub 1)))))
1779,1780c1779,1780
<                                 (((unsupported)).apply ((((unsupported)).apply ((xitems)) ((xi)))) ((((unsupported)).apply ((xitems)) (((xi).add 1)))))
<                                 (((unsupported)).apply ((((unsupported)).apply ((xmv)) ((xi)))) ((((unsupported)).apply ((xmv)) (((xi).add 1)))))
---
>                                 (((unsupported)).apply ((((unsupported)).apply ((xitems)) ((xi)))) ((((unsupported)).apply ((xitems)) (((xi).sub 1)))))
>                                 (((unsupported)).apply ((((unsupported)).apply ((xmv)) ((xi)))) ((((unsupported)).apply ((xmv)) (((xi).sub 1)))))
2612c2612
<                         bogusForceDataize.write (((xcheck)).apply ((((xmemoryview)).apply (""))) ((((xvsize)).apply (((xbase_struct).add (1.mul (xper_dim)))))))
---
>                         bogusForceDataize.write (((xcheck)).apply ((((xmemoryview)).apply (""))) ((((xvsize)).apply (((xbase_struct).sub (1.mul (xper_dim)))))))
2614c2614
<                         bogusForceDataize.write (((xcheck)).apply ((((xmemoryview)).apply ((xa)))) ((((xvsize)).apply (((xbase_struct).add (2.mul (xper_dim)))))))
---
>                         bogusForceDataize.write (((xcheck)).apply ((((xmemoryview)).apply ((xa)))) ((((xvsize)).apply (((xbase_struct).sub (2.mul (xper_dim)))))))
2616c2616
<                         bogusForceDataize.write (((xcheck)).apply ((((xmemoryview)).apply ((xa)))) ((((xvsize)).apply (((xbase_struct).add (3.mul (xper_dim)))))))
---
>                         bogusForceDataize.write (((xcheck)).apply ((((xmemoryview)).apply ((xa)))) ((((xvsize)).apply (((xbase_struct).sub (3.mul (xper_dim)))))))
2656c2656
<                         xvalues.write (((unsupported)).apply ((((xINT)).apply (9))) ((((xIDX)).apply (9))) ((2.2.add (((unsupported)).apply))) ((((xDecimal)).apply ("-21.1"))) (12.2) ((((xFraction)).apply (5) (2))) ((((unsupported)).apply (1) (2) (3))) ((((unsupported)).apply (4) (5) (6))) ((((unsupported)).apply (7) (8))) ((((unsupported)).apply)) ((((unsupported)).apply (9))) (TRUE) (FALSE) ("None: is there a None literal in the EO language?") ((xNotImplemented)) ("a") ("abc") ((((xbytearray)).apply ("a"))) ((((xbytearray)).apply ("abc"))) ("a") ("abc") ("a") ("abc") ((xf)) ((((unsupported)).apply ((xx)))))
---
>                         xvalues.write (((unsupported)).apply ((((xINT)).apply (9))) ((((xIDX)).apply (9))) ((2.2.sub (((unsupported)).apply))) ((((xDecimal)).apply ("-21.1"))) (12.2) ((((xFraction)).apply (5) (2))) ((((unsupported)).apply (1) (2) (3))) ((((unsupported)).apply (4) (5) (6))) ((((unsupported)).apply (7) (8))) ((((unsupported)).apply)) ((((unsupported)).apply (9))) (TRUE) (FALSE) ("None: is there a None literal in the EO language?") ((xNotImplemented)) ("a") ("abc") ((((xbytearray)).apply ("a"))) ((((xbytearray)).apply ("abc"))) ("a") ("abc") ("a") ("abc") ((xf)) ((((unsupported)).apply ((xx)))))
2711c2711
<                             xsformat.write ((((xrandrange)).apply (2)).if ("@".add (xsfmt)) (xsfmt))
---
>                             xsformat.write ((((xrandrange)).apply (2)).if ("@".sub (xsfmt)) (xsfmt))
2715c2715
<                                 xdformat.write ((((xrandrange)).apply (2)).if ("@".add (xdfmt)) (xdfmt))
---
>                                 xdformat.write ((((xrandrange)).apply (2)).if ("@".sub (xdfmt)) (xdfmt))
2869c2869
<                               xtfmt.write ((((unsupported)).apply ((((unsupported)).apply ("") ("@"))) ((((xrandrange)).apply (2)))).add (xchar))
---
>                               xtfmt.write ((((unsupported)).apply ((((unsupported)).apply ("") ("@"))) ((((xrandrange)).apply (2)))).sub (xchar))
2877c2877
<                                   xtshape.write ((x_tshape).add (((unsupported)).apply ((xsize))))
---
>                                   xtshape.write ((x_tshape).sub (((unsupported)).apply ((xsize))))
3835,3836c3835,3836
<                           xx.write (((unsupported)).apply ((xndarray)) (((((unsupported)).apply ((((unsupported)).apply (2) (63)))).mul 120)) ((((unsupported)).apply (3) (5) (2) (2) (2))) (((xbyteorder).add "Q")))
<                           xy.write (((unsupported)).apply ((xndarray)) (((((unsupported)).apply ((((unsupported)).apply (2) (63)))).mul 120)) ((((unsupported)).apply (3) (5) (2) (2) (2))) (((xbyteorder).add "Q")) (((xND_WRITABLE).or (xND_FORTRAN))))
---
>                           xx.write (((unsupported)).apply ((xndarray)) (((((unsupported)).apply ((((unsupported)).apply (2) (63)))).mul 120)) ((((unsupported)).apply (3) (5) (2) (2) (2))) (((xbyteorder).sub "Q")))
>                           xy.write (((unsupported)).apply ((xndarray)) (((((unsupported)).apply ((((unsupported)).apply (2) (63)))).mul 120)) ((((unsupported)).apply (3) (5) (2) (2) (2))) (((xbyteorder).sub "Q")) (((xND_WRITABLE).or (xND_FORTRAN))))
3845,3846c3845,3846
<                           xx.write (((unsupported)).apply ((xndarray)) (((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply (2) (63))) ((((unsupported)).apply (2) (31))) ((((unsupported)).apply (2) (15)))))).mul 120)) ((((unsupported)).apply (3) (5) (2) (2) (2))) (((xbyteorder).add "QLH")))
<                           xy.write (((unsupported)).apply ((xndarray)) (((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply (2) (63))) ((((unsupported)).apply (2) (31))) ((((unsupported)).apply (2) (15)))))).mul 120)) ((((unsupported)).apply (3) (5) (2) (2) (2))) (((xbyteorder).add "QLH")) (((xND_WRITABLE).or (xND_FORTRAN))))
---
>                           xx.write (((unsupported)).apply ((xndarray)) (((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply (2) (63))) ((((unsupported)).apply (2) (31))) ((((unsupported)).apply (2) (15)))))).mul 120)) ((((unsupported)).apply (3) (5) (2) (2) (2))) (((xbyteorder).sub "QLH")))
>                           xy.write (((unsupported)).apply ((xndarray)) (((((unsupported)).apply ((((unsupported)).apply ((((unsupported)).apply (2) (63))) ((((unsupported)).apply (2) (31))) ((((unsupported)).apply (2) (15)))))).mul 120)) ((((unsupported)).apply (3) (5) (2) (2) (2))) (((xbyteorder).sub "QLH")) (((xND_WRITABLE).or (xND_FORTRAN))))