memory > xslave_name
memory > xmock_stdout_fd
memory > xwrite_to_stdin_fd
memory > xTEST_STRING_2
memory > xverbose
memory > xprint
memory > xpty
memory > xunittest
memory > xstatus
memory > xlen
memory > x__name__
memory > xmaster_fd
memory > xAttributeError
memory > xfd
memory > ximport_module
memory > xsignal
memory > xerrno
memory > xstr
memory > xio
memory > xfile
memory > xsocket
memory > xpid
memory > xselect
memory > xIndexError
memory > xreap_children
memory > xread_from_stdout_fd
memory > xs
memory > xsys
memory > xOSError
memory > xos
memory > xmock_stdin_fd
memory > xe
[] > test_pty
  [args...] > unsupported
  [args...] > xunsupported
  memory > bogusForceDataize
  memory > xbogusForceDataize
  memory > xhack
  seq > @
    xhack.write
      []
        memory > xhandle_sighup
        memory > xdebug
        memory > xhandle_sig
        memory > xtearDownModule
        memory > xtest_fork
        memory > xnormalize_output
        memory > xtest_basic
        memory > x_pipe
        memory > xtearDown
        memory > xsetUp
        memory > x_mock_select
        memory > xTEST_STRING_1
        memory > xTEST_STRING_22
        memory > x_readline
        memory > xtest__copy_to_each
        memory > xtest__copy_eof_on_all
        memory > x_socketpair
        seq > @
          seq
            (((unsupported)).apply)
            (((unsupported)).apply)
            (((unsupported)).apply)
            bogusForceDataize.write (((ximport_module)).apply ("termios"))
            (((unsupported)).apply)
            (((unsupported)).apply)
            (((unsupported)).apply)
            (((unsupported)).apply)
            (((unsupported)).apply)
            (((unsupported)).apply)
            (((unsupported)).apply)
            (((unsupported)).apply)
            (((unsupported)).apply)
            xTEST_STRING_1.write "I wish to buy a fish license.n"
            xTEST_STRING_22.write "For my pet fish, Eric.n"
            (xverbose).if
              xdebug.write
                [xmsg]
                  seq > @
                    bogusForceDataize.write (((xprint)).apply ((xmsg)))
              xdebug.write
                [xmsg]
                  seq > @
            xnormalize_output.write
              [xdata]
                seq > @
                  seq
                    ((((xdata).xendswith)).apply ("rrn")).if
                      (((unsupported)).apply (((((xdata).xreplace)).apply ("rrn") ("n"))))
                    ((((xdata).xendswith)).apply ("rn")).if
                      (((unsupported)).apply (((((xdata).xreplace)).apply ("rn") ("n"))))
                    (((unsupported)).apply ((xdata)))
            x_readline.write
              [xfd]
                memory > xreader
                seq > @
                  seq
                    unsupported
                    xreader.write (((unsupported)).apply (((xio).xFileIO)) ((xfd)) ("rb") (FALSE))
                    (((unsupported)).apply (((((xreader).xreadline)).apply)))
            (((unsupported)).apply (((xunittest).xTestCase)))
              seq
                xsetUp.write
                  [xself]
                    memory > xold_sighup
                    memory > xold_alarm
                    seq > @
                      seq
                        xold_alarm.write ((((xsignal).xsignal)).apply (((xsignal).xSIGALRM)) (((xself).xhandle_sig)))
                        bogusForceDataize.write ((((xself).xaddCleanup)).apply (((xsignal).xsignal)) (((xsignal).xSIGALRM)) ((xold_alarm)))
                        xold_sighup.write ((((xsignal).xsignal)).apply (((xsignal).xSIGHUP)) (((xself).xhandle_sighup)))
                        bogusForceDataize.write ((((xself).xaddCleanup)).apply (((xsignal).xsignal)) (((xsignal).xSIGHUP)) ((xold_sighup)))
                        bogusForceDataize.write ((((xself).xaddCleanup)).apply (((xsignal).xalarm)) (0))
                        bogusForceDataize.write ((((xsignal).xalarm)).apply (10))
                xhandle_sig.write
                  [xself xsig xframe]
                    seq > @
                      bogusForceDataize.write ((((xself).xfail)).apply ("isatty hung"))
                xhandle_sighup.write
                  [xsignum xframe]
                    seq > @
                      (((unsupported)).apply)
                xtest_basic.write
                  [xself]
                    memory > xslave_fd
                    memory > xs1
                    memory > xs2
                    memory > xblocking
                    seq > @
                      seq
                        (((unsupported)).apply ((xOSError)))
                          seq
                            bogusForceDataize.write (((xdebug)).apply ("Calling master_open()"))
                            (((unsupported)).apply ((((unsupported)).apply ((xmaster_fd)) ((xslave_name)))) (((((xpty).xmaster_open)).apply)))
                            bogusForceDataize.write (((xdebug)).apply (("Got master_fd '%d', slave_name '%s'".mod (((unsupported)).apply ((xmaster_fd)) ((xslave_name))))))
                            bogusForceDataize.write (((xdebug)).apply (("Calling slave_open(%r)".mod (((unsupported)).apply ((xslave_name))))))
                            xslave_fd.write ((((xpty).xslave_open)).apply ((xslave_name)))
                            bogusForceDataize.write (((xdebug)).apply (("Got slave_fd '%d'".mod (xslave_fd))))
                          (((unsupported)).apply (((((xunittest).xSkipTest)).apply ("Pseudo-terminals (seemingly) not functional."))))
                        bogusForceDataize.write ((((xself).xassertTrue)).apply (((((xos).xisatty)).apply ((xslave_fd)))) ("slave_fd is not a tty"))
                        xblocking.write ((((xos).xget_blocking)).apply ((xmaster_fd)))
                        (((unsupported)).apply)
                          seq
                            bogusForceDataize.write ((((xos).xset_blocking)).apply ((xmaster_fd)) (FALSE))
                            (((unsupported)).apply ((xOSError)))
                              seq
                                xs1.write ((((xos).xread)).apply ((xmaster_fd)) (1024))
                                bogusForceDataize.write ((((xself).xassertEqual)).apply ("") ((xs1)))
                              (((xe).xerrno).neq ((xerrno).xEAGAIN)).if
                                (((unsupported)).apply)
                          bogusForceDataize.write ((((xos).xset_blocking)).apply ((xmaster_fd)) ((xblocking)))
                        bogusForceDataize.write (((xdebug)).apply ("Writing to slave_fd"))
                        bogusForceDataize.write ((((xos).xwrite)).apply ((xslave_fd)) ((xTEST_STRING_1)))
                        xs1.write (((x_readline)).apply ((xmaster_fd)))
                        bogusForceDataize.write ((((xself).xassertEqual)).apply ("I wish to buy a fish license.n") ((((xnormalize_output)).apply ((xs1)))))
                        bogusForceDataize.write (((xdebug)).apply ("Writing chunked output"))
                        bogusForceDataize.write ((((xos).xwrite)).apply ((xslave_fd)) ((((unsupported)).apply ((xTEST_STRING_2)) ((((unsupported)).apply (5))))))
                        bogusForceDataize.write ((((xos).xwrite)).apply ((xslave_fd)) ((((unsupported)).apply ((xTEST_STRING_2)) ((((unsupported)).apply (5))))))
                        xs2.write (((x_readline)).apply ((xmaster_fd)))
                        bogusForceDataize.write ((((xself).xassertEqual)).apply ("For my pet fish, Eric.n") ((((xnormalize_output)).apply ((xs2)))))
                        bogusForceDataize.write ((((xos).xclose)).apply ((xslave_fd)))
                        bogusForceDataize.write ((((xos).xclose)).apply ((xmaster_fd)))
                xtest_fork.write
                  [xself]
                    memory > xres
                    memory > xdata
                    seq > @
                      seq
                        bogusForceDataize.write (((xdebug)).apply ("calling pty.fork()"))
                        (((unsupported)).apply ((((unsupported)).apply ((xpid)) ((xmaster_fd)))) (((((xpty).xfork)).apply)))
                        ((xpid).eq ((xpty).xCHILD)).if
                          seq
                            (((((xos).xisatty)).apply (1)).not).if
                              seq
                                bogusForceDataize.write (((xdebug)).apply ("Child's fd 1 is not a tty?!"))
                                bogusForceDataize.write ((((xos).x_exit)).apply (3))
                            bogusForceDataize.write (((xdebug)).apply ("In child, calling os.setsid()"))
                            (((unsupported)).apply ((xOSError)) ((xAttributeError)))
                              bogusForceDataize.write ((((xos).xsetsid)).apply)
                              seq
                                bogusForceDataize.write (((xdebug)).apply ("Good: OSError was raised."))
                              seq
                                bogusForceDataize.write (((xdebug)).apply ("No setsid() available?"))
                              seq
                                bogusForceDataize.write (((xdebug)).apply ("An unexpected error was raised."))
                                bogusForceDataize.write ((((xos).x_exit)).apply (1))
                              seq
                                bogusForceDataize.write (((xdebug)).apply ("os.setsid() succeeded! (bad!)"))
                                bogusForceDataize.write ((((xos).x_exit)).apply (2))
                            bogusForceDataize.write ((((xos).x_exit)).apply (4))
                          seq
                            bogusForceDataize.write (((xdebug)).apply (("Waiting for child (%d) to finish.".mod (xpid))))
                            while.
                              TRUE
                              [unused]
                                seq > @
                                  seq
                                    (((unsupported)).apply ((xOSError)))
                                      xdata.write ((((xos).xread)).apply ((xmaster_fd)) (80))
                                      (((unsupported)).apply)
                                    ((xdata).not).if
                                      (((unsupported)).apply)
                                    bogusForceDataize.write (((((xsys).xstdout).xwrite)).apply ((((unsupported)).apply ((xstr)) (((((xdata).xreplace)).apply ("rn") ("n"))) ("ascii"))))
                            (((unsupported)).apply ((((unsupported)).apply ((xpid)) ((xstatus)))) (((((xos).xwaitpid)).apply ((xpid)) (0))))
                            xres.write (((unsupported)).apply ((xstatus)) (8))
                            bogusForceDataize.write (((xdebug)).apply (("Child (%d) exited with status %d (%d).".mod (((unsupported)).apply ((xpid)) ((xres)) ((xstatus))))))
                            ((xres).eq 1).if
                              bogusForceDataize.write ((((xself).xfail)).apply ("Child raised an unexpected exception in os.setsid()"))
                              ((xres).eq 2).if
                                bogusForceDataize.write ((((xself).xfail)).apply ("pty.fork() failed to make child a session leader."))
                                ((xres).eq 3).if
                                  bogusForceDataize.write ((((xself).xfail)).apply ("Child spawned by pty.fork() did not have a tty as stdout"))
                                  ((xres).neq 4).if
                                    bogusForceDataize.write ((((xself).xfail)).apply ("pty.fork() failed for unknown reasons."))
                        bogusForceDataize.write ((((xos).xclose)).apply ((xmaster_fd)))
            (((unsupported)).apply (((xunittest).xTestCase)))
              seq
                unsupported
                xsetUp.write
                  [xself]
                    seq > @
                      seq
                        (((unsupported)).apply (((xself).xorig_stdin_fileno)) (((xpty).xSTDIN_FILENO)))
                        (((unsupported)).apply (((xself).xorig_stdout_fileno)) (((xpty).xSTDOUT_FILENO)))
                        (((unsupported)).apply (((xself).xorig_pty_select)) (((xpty).xselect)))
                        (((unsupported)).apply (((xself).xfds)) ((((unsupported)).apply)))
                        (((unsupported)).apply (((xself).xfiles)) ((((unsupported)).apply)))
                        (((unsupported)).apply (((xself).xselect_rfds_lengths)) ((((unsupported)).apply)))
                        (((unsupported)).apply (((xself).xselect_rfds_results)) ((((unsupported)).apply)))
                xtearDown.write
                  [xself]
                    seq > @
                      seq
                        (((unsupported)).apply (((xpty).xSTDIN_FILENO)) (((xself).xorig_stdin_fileno)))
                        (((unsupported)).apply (((xpty).xSTDOUT_FILENO)) (((xself).xorig_stdout_fileno)))
                        (((unsupported)).apply (((xpty).xselect)) (((xself).xorig_pty_select)))
                        (((unsupported)).apply ((xfile)) (((xself).xfiles)))
                          (((unsupported)).apply ((xOSError)))
                            bogusForceDataize.write ((((xfile).xclose)).apply)
                        (((unsupported)).apply ((xfd)) (((xself).xfds)))
                          (((unsupported)).apply ((xOSError)))
                            bogusForceDataize.write ((((xos).xclose)).apply ((xfd)))
                x_pipe.write
                  [xself]
                    memory > xpipe_fds
                    seq > @
                      seq
                        xpipe_fds.write ((((xos).xpipe)).apply)
                        bogusForceDataize.write (((((xself).xfds).xextend)).apply ((xpipe_fds)))
                        (((unsupported)).apply ((xpipe_fds)))
                x_socketpair.write
                  [xself]
                    memory > xsocketpair
                    seq > @
                      seq
                        xsocketpair.write ((((xsocket).xsocketpair)).apply)
                        bogusForceDataize.write (((((xself).xfiles).xextend)).apply ((xsocketpair)))
                        (((unsupported)).apply ((xsocketpair)))
                x_mock_select.write
                  [xself xrfds xwfds xxfds]
                    seq > @
                      seq
                        bogusForceDataize.write ((((xself).xassertEqual)).apply ((((((xself).xselect_rfds_lengths).xpop)).apply (0))) ((((xlen)).apply ((xrfds)))))
                        (((unsupported)).apply ((((unsupported)).apply ((((((xself).xselect_rfds_results).xpop)).apply (0))) ((((unsupported)).apply)) ((((unsupported)).apply)))))
                xtest__copy_to_each.write
                  [xself]
                    memory > xsocketpair
                    memory > xrfds
                    memory > xmasters
                    seq > @
                      seq
                        unsupported
                        (((unsupported)).apply ((((unsupported)).apply ((xread_from_stdout_fd)) ((xmock_stdout_fd)))) (((((xself).x_pipe)).apply)))
                        (((unsupported)).apply (((xpty).xSTDOUT_FILENO)) ((xmock_stdout_fd)))
                        (((unsupported)).apply ((((unsupported)).apply ((xmock_stdin_fd)) ((xwrite_to_stdin_fd)))) (((((xself).x_pipe)).apply)))
                        (((unsupported)).apply (((xpty).xSTDIN_FILENO)) ((xmock_stdin_fd)))
                        xsocketpair.write ((((xself).x_socketpair)).apply)
                        xmasters.write (((unsupported)).apply (((((xs).xfileno)).apply)) ((xs)) ((xsocketpair)))
                        bogusForceDataize.write ((((xos).xwrite)).apply ((((unsupported)).apply ((xmasters)) (1))) ("from master"))
                        bogusForceDataize.write ((((xos).xwrite)).apply ((xwrite_to_stdin_fd)) ("from stdin"))
                        (((unsupported)).apply (((xpty).xselect)) (((xself).x_mock_select)))
                        bogusForceDataize.write (((((xself).xselect_rfds_lengths).xappend)).apply (2))
                        bogusForceDataize.write (((((xself).xselect_rfds_results).xappend)).apply ((((unsupported)).apply ((xmock_stdin_fd)) ((((unsupported)).apply ((xmasters)) (0))))))
                        bogusForceDataize.write (((((xself).xselect_rfds_lengths).xappend)).apply (2))
                        (((unsupported)).apply (((((xself).xassertRaises)).apply ((xIndexError)))))
                          bogusForceDataize.write ((((xpty).x_copy)).apply ((((unsupported)).apply ((xmasters)) (0))))
                        xrfds.write (((unsupported)).apply (((((xselect).xselect)).apply ((((unsupported)).apply ((xread_from_stdout_fd)) ((((unsupported)).apply ((xmasters)) (1))))) ((((unsupported)).apply)) ((((unsupported)).apply)) (0))) (0))
                        bogusForceDataize.write ((((xself).xassertEqual)).apply ((((unsupported)).apply ((xread_from_stdout_fd)) ((((unsupported)).apply ((xmasters)) (1))))) ((xrfds)))
                        bogusForceDataize.write ((((xself).xassertEqual)).apply (((((xos).xread)).apply ((xread_from_stdout_fd)) (20))) ("from master"))
                        bogusForceDataize.write ((((xself).xassertEqual)).apply (((((xos).xread)).apply ((((unsupported)).apply ((xmasters)) (1))) (20))) ("from stdin"))
                xtest__copy_eof_on_all.write
                  [xself]
                    memory > xsocketpair
                    memory > xmasters
                    seq > @
                      seq
                        unsupported
                        (((unsupported)).apply ((((unsupported)).apply ((xread_from_stdout_fd)) ((xmock_stdout_fd)))) (((((xself).x_pipe)).apply)))
                        (((unsupported)).apply (((xpty).xSTDOUT_FILENO)) ((xmock_stdout_fd)))
                        (((unsupported)).apply ((((unsupported)).apply ((xmock_stdin_fd)) ((xwrite_to_stdin_fd)))) (((((xself).x_pipe)).apply)))
                        (((unsupported)).apply (((xpty).xSTDIN_FILENO)) ((xmock_stdin_fd)))
                        xsocketpair.write ((((xself).x_socketpair)).apply)
                        xmasters.write (((unsupported)).apply (((((xs).xfileno)).apply)) ((xs)) ((xsocketpair)))
                        bogusForceDataize.write ((((((unsupported)).apply ((xsocketpair)) (1)).xclose)).apply)
                        bogusForceDataize.write ((((xos).xclose)).apply ((xwrite_to_stdin_fd)))
                        (((unsupported)).apply (((xpty).xselect)) (((xself).x_mock_select)))
                        bogusForceDataize.write (((((xself).xselect_rfds_lengths).xappend)).apply (2))
                        bogusForceDataize.write (((((xself).xselect_rfds_results).xappend)).apply ((((unsupported)).apply ((xmock_stdin_fd)) ((((unsupported)).apply ((xmasters)) (0))))))
                        bogusForceDataize.write (((((xself).xselect_rfds_lengths).xappend)).apply (0))
                        (((unsupported)).apply (((((xself).xassertRaises)).apply ((xIndexError)))))
                          bogusForceDataize.write ((((xpty).x_copy)).apply ((((unsupported)).apply ((xmasters)) (0))))
            xtearDownModule.write
              []
                seq > @
                  bogusForceDataize.write (((xreap_children)).apply)
            ((x__name__).eq "__main__").if
              bogusForceDataize.write ((((xunittest).xmain)).apply)