70,71c70,71
<                             xa.write (((xs).mul 100).add "q")
<                             xb.write (((xs).mul 100).add "k")
---
>                             xa.write (((xs).mul 100).sub "q")
>                             xb.write (((xs).mul 100).sub "k")
170c170
<                         xlegal.write ((((xstring).xascii_letters).add ((xstring).xdigits)).add "-_")
---
>                         xlegal.write ((((xstring).xascii_letters).sub ((xstring).xdigits)).sub "-_")